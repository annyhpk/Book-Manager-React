(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[5],{55:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var n=c(28).c},56:function(e,t,c){"use strict";var n=c(27),a=c(0);t.a=function(e){var t=Object(a.useState)(e),c=Object(n.a)(t,2),r=c[0],s=c[1];return[r,Object(a.useCallback)((function(e){s(e.target.value)}),[]),s]}},57:function(e,t,c){"use strict";c.d(t,"a",(function(){return s})),c.d(t,"b",(function(){return l})),c.d(t,"c",(function(){return o}));var n=c(12),a=c(14),r=c(16),s=Object(a.b)(r.a,(function(e){var t=[];return Array.isArray(e)&&e.length&&(t=e.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{amount:0})}))),{payload:t}})),l=Object(a.b)(r.b,(function(e){return{payload:e}})),o=Object(a.b)(r.c,(function(e){return{payload:e}}))},66:function(e,t,c){"use strict";c.r(t);for(var n,a=c(27),r=c(0),s=c(2),l=c(19),o=c(55),i=c(56),d=c(23),u=c(28),b=c(57),j=c(61),h=c.n(j),m=c(63),x={authors:["\ucf00\ube48 \ud0b4"],contents:"\uc774\ub7f0\ub4e4 \uc5b4\ub5a8\ud558\ub9ac \uc800\ub7f0\ub4e4 \uc5b4\ub5a0\ud558\ub9ac \ub354\ubbf8\ud558\uac8c \uc0b4\ub2e4 \ub354\ubbf8\ud558\uac8c \uac00\ub294\uac83\uc774 \uc778\uc0dd\uc774\uac70\ub298 \uc5b4\ucc0c \uadf8\ub9ac \uace0\ubbfc\ud558\uba70 \uac10\uc815\uc744 \uc18c\ube44\ud558\uba74\uc11c \uc778\uc0dd\uc744 \uc0b4\uc544\uac00\ub294 \uac74\uc778\uac00",datetime:new Date("2021-04-11T00:00:00.000+09:00"),isbn:"1234567891234123",price:18900,publisher:"\ud14c\uc2a4\ud2b8\uc758 \uacc4\ub2e8",sale_price:17e3,status:"\uc815\uc0c1\ud310\ub9e4",thumbnail:"https://cdn.pixabay.com/photo/2018/01/03/09/09/book-3057902_960_720.png",title:"\ucd94\uac00\ub418\ub294\ucc45",translators:["\uad6d\ub0b4\uc791\uac00"],url:"https://google.com",amount:0},f=[],O=0;O<15;++O)x.isbn="".concat(parseInt(x.isbn)+1),f.push((n=x,JSON.parse(JSON.stringify(n))));var p=f||[x],g=function(){var e=Object(m.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={data:{meta:{total_count:75,pageable_count:15,is_end:!0},documents:[]}},t<5&&(c.data.meta.is_end=!1,c.data.documents=p),e.abrupt("return",new Promise((function(e){e(c)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=c(54),w=c.n(v),k=c(7),y=function(e){var t=e.searchResultInfo,c=e.setSelectedBookList,n=e.selectedBookList,a=Object(r.useCallback)((function(e){var t=e.currentTarget.firstChild.textContent;e.currentTarget&&"TD"===e.currentTarget.firstChild.nodeName&&!n.includes(t)?c((function(e){return[].concat(Object(d.a)(e),[t])})):c((function(e){return e.filter((function(e){return e!==t}))}))}),[n,c]);return Object(k.jsx)(k.Fragment,{children:void 0!==t&&(null===t||void 0===t?void 0:t.map((function(e){var t;return Object(k.jsxs)("tr",{onClick:a,className:n.includes(e.isbn)?"bg-green-400 bg-opacity-30 bg-clip-border":"",children:[Object(k.jsx)("td",{className:"hidden",children:e.isbn}),Object(k.jsx)("td",{children:Object(k.jsx)("img",{className:"transform hover:scale-180 sm:hover:scale-400 hover:translate-x-5 z-2 hover:absolute z-10 transition-all shadow-lg",width:"200",src:e.thumbnail,alt:e.title})}),Object(k.jsxs)("td",{className:"max-w-sm font-bold pl-4 text-left",children:["(".concat(e.status,") ").concat(e.title)," ",Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"text-gray-400 h-auto text-left font-normal",children:"".concat(null===(t=e.contents)||void 0===t?void 0:t.slice(0,50),"...")})]}),Object(k.jsx)("td",{children:e.authors[0]}),Object(k.jsx)("td",{children:w()(e.datetime).format("YYYY-MM-DD")})]},e.isbn)})))})},N=Object(r.memo)(y),C=function(e){var t=e.show,c=e.children,n=e.onCloseModal,a=Object(r.useRef)(null),s=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),l=Object(r.useCallback)((function(){var e;null===(e=a.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})}),[]);return t?Object(k.jsxs)("div",{className:"modal opacity-100 fixed w-full top-0 left-0 flex items-center justify-center",onClick:n,children:[Object(k.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50"}),Object(k.jsx)("div",{className:"modal-container bg-white w-11/12 h-screen lg:max-w-xl md:max-w-lg mx-auto rounded-xl shadow-lg z-50 overflow-y-auto",onClick:s,ref:a,children:Object(k.jsxs)("div",{className:"modal-content py-4 text-left px-5",children:[Object(k.jsxs)("div",{className:"flex justify-between items-center pb-3 h-11",children:[Object(k.jsx)("p",{className:"text-2xl font-bold",children:"\uc6d0\ud558\ub294 \ub3c4\uc11c\ub97c \ud074\ub9ad-!"}),Object(k.jsx)("div",{className:"modal-close cursor-pointer z-50",onClick:n,children:Object(k.jsx)("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(k.jsx)("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})})})]}),c,Object(k.jsx)("div",{className:"flex fixed bottom-12 mr-1 h-10 right-9 md:right-1/4 lg:mr-12 xl:right-1/3 xl:mr-24 bg-indigo-300 rounded-xl",children:Object(k.jsx)("button",{type:"button",onClick:l,className:"px-2 bg-transparent p-3 rounded-xl hover:bg-gray-100 leading-10",children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 pb-0.5",fill:"none",viewBox:"0 3 24 24",stroke:"currentColor",children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11l7-7 7 7M5 19l7-7 7 7"})})})})]})})]}):null},M=Object(r.memo)(C),S=function(e){var t=e.show,c=e.onCloseModal,n=e.setShowSearchResultModal,s=e.searchResultInfo,l=e.setSearchResultInfo,o=(e.searchValue,Object(u.b)()),i=Object(r.useState)([]),j=Object(a.a)(i,2),h=j[0],m=j[1],x=Object(r.useState)(2),f=Object(a.a)(x,2),O=f[0],p=f[1],v=Object(r.useState)(!1),w=Object(a.a)(v,2),y=w[0],C=w[1],S=Object(r.useCallback)((function(e){e.preventDefault(),g(O).then((function(e){void 0!==l&&(l((function(t){return[].concat(Object(d.a)(t),Object(d.a)(e.data.documents))})),e.data.meta.is_end&&C(!0)),p((function(e){return e+1}))})).catch((function(e){console.dir(e)}))}),[O,l]),L=Object(r.useCallback)((function(e){if(e.preventDefault(),Array.isArray(s)&&s.length){var t=null===s||void 0===s?void 0:s.filter((function(e){return h.includes(e.isbn)}));o(Object(b.a)(t))}n(!1),m([])}),[o,s,h,n]);return Object(r.useEffect)((function(){C(!1)}),[t]),Object(k.jsx)(M,{show:t,onCloseModal:c,children:t&&Array.isArray(s)&&!(null===s||void 0===s?void 0:s.length)?Object(k.jsx)("div",{children:"\ucc3e\uc73c\uc2dc\ub294 \ucc45\uc815\ubcf4\ub97c \ucc3e\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4."}):Object(k.jsxs)("form",{onSubmit:L,children:[Object(k.jsxs)("table",{className:"table-auto text-center border-gray-600 border-t-2",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"\ub3c4\uc11c"}),Object(k.jsx)("th",{children:"(\uc0c1\ud0dc)\ub3c4\uc11c\uba85"}),Object(k.jsx)("th",{children:"\uc800\uc790"}),Object(k.jsx)("th",{children:"\ucd9c\ud310\uc77c"})]})}),Object(k.jsx)("tbody",{children:Object(k.jsx)(N,{searchResultInfo:s,setSelectedBookList:m,selectedBookList:h})})]}),y?Object(k.jsx)("div",{className:"h-11 w-full rounded-b-xl bg-gray-300 text-center leading-loose",children:"\ub9c8\uc9c0\ub9c9 \uac80\uc0c9\uacb0\uacfc\uc785\ub2c8\ub2e4."}):Object(k.jsx)("button",{className:"h-11 w-full rounded-b-xl bg-gray-300",type:"button",onClick:S,children:"\uacb0\uacfc \ub354\ubcf4\uae30"}),Object(k.jsx)("div",{className:"flex fixed bottom-0.5 mr-1.5 right-9 md:right-1/4 lg:mr-12 xl:right-1/3 xl:mr-14 h-10 bg-green-200 rounded-xl",children:Object(k.jsx)("button",{type:"submit",className:"px-2 bg-transparent p-3 rounded-xl text-gray-700 hover:bg-green-100 hover:text-gray-900 leading-4",children:"\ub3c4\uc11c\ub4f1\ub85d"})})]})})},L=function(e){var t=e.currentPage,c=e.totalPage,n=Object(s.g)(),a=Object(r.useCallback)((function(e){e.preventDefault(),n.push("/books/".concat(e.target.value))}),[n]),l=Object(r.useCallback)((function(){n.push("/books/1")}),[n]),o=Object(r.useCallback)((function(){n.push("/books/".concat(c))}),[n,c]),i=Object(r.useCallback)((function(){var e=c>t?t+1:t;n.push("/books/".concat(e))}),[n,t,c]),d=Object(r.useCallback)((function(){var e=t>0?t-1:t;n.push("/books/".concat(e))}),[n,t]),u=Object(r.useMemo)((function(){for(var e=Math.ceil(t/5),n=5*e,a=n>c?c:n,r=[],s=e;s<=a;++s)r.push(s);return r}),[t,c]);return t?Object(k.jsxs)("div",{className:"flex flex-row justify-evenly w-full h-16 py-6 relative left-0 bottom-0 md:-bottom-8 md:px-20 lg:px-56",children:[Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-gray-400 rounded-md shadow-md",viewBox:"0 0 20 20",fill:"currentColor",onClick:l,children:Object(k.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})}),Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-gray-400 rounded-md shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:d,children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),null===u||void 0===u?void 0:u.map((function(e){return Object(k.jsx)("button",{className:"h-6 w-6 rounded-md shadow-md ".concat(t===e?"bg-gray-500 font-bold":"bg-gray-400"),onClick:a,value:e,children:e},e)})),Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-gray-400 rounded-md shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:i,children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-gray-400 rounded-md shadow-sm",transform:"rotate(180)",viewBox:"0 0 20 20",fill:"currentColor",onClick:o,children:Object(k.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})})]}):null},R=Object(r.memo)(L);t.default=function(){var e=Object(s.g)(),t=Object(s.h)().page,c=parseInt(t),n=Object(i.a)(""),d=Object(a.a)(n,2),u=d[0],b=d[1],j=Object(r.useState)(!1),h=Object(a.a)(j,2),m=h[0],x=h[1],f=Object(r.useState)([]),O=Object(a.a)(f,2),p=O[0],v=O[1],y=Object(r.useMemo)((function(){return[15*(c-1),15*c]}),[c]),N=Object(a.a)(y,2),C=N[0],M=N[1],L=Object(o.a)((function(e){return e.book.documents})),B=null===L||void 0===L?void 0:L.slice(C,M);console.dir(B);var D=Object(r.useMemo)((function(){return Math.ceil(L.length/15)}),[L]),_=Object(r.useCallback)((function(){x(!1)}),[]),z=Object(r.useCallback)((function(e){if(e.preventDefault(),""===u.trim()&&!u.trim().length)return null;g(c).then((function(e){x(!0),v(e.data.documents)})).catch((function(e){console.dir(e)}))}),[c,u]);return(isNaN(c)||!c||c>D)&&e.push("/notFound"),Object(k.jsxs)("div",{className:"container pt-8 mx-auto md:pt-16",children:[Object(k.jsxs)("header",{className:"flex w-full h-10 justify-around flex-wrap flex-row",children:[Object(k.jsxs)("div",{className:"inline-flex flex-nowrap",children:[Object(k.jsx)("img",{className:"mr-3",width:"40",height:"40",alt:"Book Logo",src:"https://cdn.pixabay.com/photo/2016/01/23/16/02/book-1157658_960_720.png"}),Object(k.jsx)("b",{className:"sm:text-base md:text-3xl",children:"\ub3c4\uc11c \uad00\ub9ac \uc2dc\uc2a4\ud15c"})]}),Object(k.jsx)("form",{className:"pt-1 h-10",onSubmit:z,children:Object(k.jsx)("input",{className:"rounded-lg text-center border",type:"search",placeholder:"\ub3c4\uc11c\uba85\uc73c\ub85c \uac80\uc0c9",value:u,onChange:b})})]}),Object(k.jsx)("main",{className:"flex flex-col mt-8 mx-3 sm:mt-4 md:mx-8 lg:mx-24 justify-center",children:Object(k.jsxs)("table",{className:"table-auto border-separate text-center",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{className:"whitespace-nowrap",children:[Object(k.jsx)("th",{children:"(\uc0c1\ud0dc) \ub3c4\uc11c\uba85"}),Object(k.jsx)("th",{children:"\uae00\uc4f4\uc774"}),Object(k.jsx)("th",{children:"\ubcf4\uc720"}),Object(k.jsx)("th",{children:"\ucd9c\ud310\uc77c"})]})}),Object(k.jsx)("tbody",{children:null===B||void 0===B?void 0:B.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{children:[Object(k.jsx)("b",{children:"[".concat(e.status,"]")})," ",Object(k.jsx)(l.b,{to:"/book/".concat(t*c,"/").concat(e.isbn),children:e.title})]}),Object(k.jsx)("td",{children:e.authors[0]}),Object(k.jsx)("td",{children:e.amount}),Object(k.jsx)("td",{children:w()(e.datetime).format("YYYY-MM-DD")})]},e.isbn)}))})]})}),Object(k.jsx)(R,{currentPage:c,totalPage:D}),Object(k.jsx)(S,{show:m,onCloseModal:_,setShowSearchResultModal:x,searchResultInfo:p,setSearchResultInfo:v,searchValue:u})]})}}}]);
//# sourceMappingURL=5.c3ff80f2.chunk.js.map