(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[6],{55:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c=n(28).c},56:function(e,t,n){"use strict";var c=n(27),a=n(0);t.a=function(e){var t=Object(a.useState)(e),n=Object(c.a)(t,2),r=n[0],s=n[1];return[r,Object(a.useCallback)((function(e){s(e.currentTarget.value)}),[]),s]}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var c=n(12),a=n(15),r=n(16),s=Object(a.b)(r.a,(function(e){var t=[];return Array.isArray(e)&&e.length&&(t=e.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{amount:0})}))),{payload:t}})),o=Object(a.b)(r.b,(function(e){return{payload:e}})),l=Object(a.b)(r.c,(function(e){return{payload:e}}))},68:function(e,t,n){"use strict";n.r(t);for(var c,a=n(27),r=n(0),s=n(2),o=n(55),l=n(56),i=n(23),u=n(28),d=n(57),b=n(61),j=n.n(b),h=n(63),m={authors:["\ucf00\ube48 \ud0b4"],contents:"\uc774\ub7f0\ub4e4 \uc5b4\ub5a8\ud558\ub9ac \uc800\ub7f0\ub4e4 \uc5b4\ub5a0\ud558\ub9ac \ub354\ubbf8\ud558\uac8c \uc0b4\ub2e4 \ub354\ubbf8\ud558\uac8c \uac00\ub294\uac83\uc774 \uc778\uc0dd\uc774\uac70\ub298 \uc5b4\ucc0c \uadf8\ub9ac \uace0\ubbfc\ud558\uba70 \uac10\uc815\uc744 \uc18c\ube44\ud558\uba74\uc11c \uc778\uc0dd\uc744 \uc0b4\uc544\uac00\ub294 \uac74\uc778\uac00",datetime:new Date("2021-04-11T00:00:00.000+09:00"),isbn:"1234567891234123",price:18900,publisher:"\ud14c\uc2a4\ud2b8\uc758 \uacc4\ub2e8",sale_price:17e3,status:"\uc815\uc0c1\ud310\ub9e4",thumbnail:"https://cdn.pixabay.com/photo/2018/01/03/09/09/book-3057902_960_720.png",title:"\ucd94\uac00\ub418\ub294\ucc45",translators:["\uad6d\ub0b4\uc791\uac00"],url:"https://google.com",amount:0},x=[],f=0;f<15;++f)m.isbn="".concat(parseInt(m.isbn)+1),x.push((c=m,JSON.parse(JSON.stringify(c))));var O=x||[m],p=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:{meta:{total_count:75,pageable_count:15,is_end:!0},documents:[]}},t<5&&(n.data.meta.is_end=!1,n.data.documents=O),e.abrupt("return",new Promise((function(e){e(n)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(54),v=n.n(g),w=n(7),k=function(e){var t=e.searchResultInfo,n=e.setSelectedBookList,c=e.selectedBookList,a=Object(r.useCallback)((function(e){var t=e.currentTarget.firstChild.textContent;e.currentTarget&&"TD"===e.currentTarget.firstChild.nodeName&&!c.includes(t)?n((function(e){return[].concat(Object(i.a)(e),[t])})):n((function(e){return e.filter((function(e){return e!==t}))}))}),[c,n]);return Object(w.jsx)(w.Fragment,{children:void 0!==t&&(null===t||void 0===t?void 0:t.map((function(e){var t;return Object(w.jsxs)("tr",{onClick:a,className:c.includes(e.isbn)?"bg-green-400 bg-opacity-30 bg-clip-border":"",children:[Object(w.jsx)("td",{className:"hidden",children:e.isbn}),Object(w.jsx)("td",{children:Object(w.jsx)("img",{className:"transform hover:scale-180 sm:hover:scale-400 hover:translate-x-5 z-2 hover:absolute z-10 transition-all shadow-lg",width:"200",src:e.thumbnail,alt:e.title})}),Object(w.jsxs)("td",{className:"max-w-sm font-bold pl-4 text-left",children:["(".concat(e.status,") ").concat(e.title)," ",Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"text-gray-400 h-auto text-left font-normal",children:"".concat(null===(t=e.contents)||void 0===t?void 0:t.slice(0,50),"...")})]}),Object(w.jsx)("td",{children:e.authors[0]}),Object(w.jsx)("td",{children:v()(e.datetime).format("YYYY-MM-DD")})]},e.isbn)})))})},y=Object(r.memo)(k),N=function(e){var t=e.show,n=e.children,c=e.onCloseModal,a=Object(r.useRef)(null),s=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),o=Object(r.useCallback)((function(){var e;null===(e=a.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})}),[]);return t?Object(w.jsxs)("div",{className:"modal opacity-100 fixed w-full top-0 left-0 flex items-center justify-center",onClick:c,children:[Object(w.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50"}),Object(w.jsx)("div",{className:"modal-container bg-white w-11/12 h-screen lg:max-w-xl md:max-w-lg mx-auto rounded-xl shadow-lg z-50 overflow-y-auto",onClick:s,ref:a,children:Object(w.jsxs)("div",{className:"modal-content py-4 text-left px-5",children:[Object(w.jsxs)("div",{className:"flex justify-between items-center pb-3 h-11",children:[Object(w.jsx)("p",{className:"text-2xl font-bold",children:"\uc6d0\ud558\ub294 \ub3c4\uc11c\ub97c \ud074\ub9ad-!"}),Object(w.jsx)("div",{className:"modal-close cursor-pointer z-50",onClick:c,children:Object(w.jsx)("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(w.jsx)("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})})})]}),n,Object(w.jsx)("div",{className:"flex fixed bottom-12 mr-1 h-10 right-9 md:right-1/4 lg:mr-12 xl:right-1/3 xl:mr-24 bg-indigo-300 rounded-xl",children:Object(w.jsx)("button",{type:"button",onClick:o,className:"px-2 bg-transparent p-3 rounded-xl hover:bg-gray-100 leading-10",children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 pb-0.5",fill:"none",viewBox:"0 3 24 24",stroke:"currentColor",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 11l7-7 7 7M5 19l7-7 7 7"})})})})]})})]}):null},C=Object(r.memo)(N),M=function(e){var t=e.show,n=e.onCloseModal,c=e.setShowSearchResultModal,s=e.searchResultInfo,o=e.setSearchResultInfo,l=(e.searchValue,Object(u.b)()),b=Object(r.useState)([]),j=Object(a.a)(b,2),h=j[0],m=j[1],x=Object(r.useState)(2),f=Object(a.a)(x,2),O=f[0],g=f[1],v=Object(r.useState)(!1),k=Object(a.a)(v,2),N=k[0],M=k[1],S=Object(r.useCallback)((function(e){e.preventDefault(),p(O).then((function(e){void 0!==o&&(o((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.data.documents))})),e.data.meta.is_end&&M(!0)),g((function(e){return e+1}))})).catch((function(e){console.dir(e)}))}),[O,o]),L=Object(r.useCallback)((function(e){if(e.preventDefault(),Array.isArray(s)&&s.length){var t=null===s||void 0===s?void 0:s.filter((function(e){return h.includes(e.isbn)}));l(Object(d.a)(t))}c(!1),m([])}),[l,s,h,c]);return Object(r.useEffect)((function(){M(!1)}),[t]),Object(w.jsx)(C,{show:t,onCloseModal:n,children:t&&Array.isArray(s)&&!(null===s||void 0===s?void 0:s.length)?Object(w.jsx)("div",{children:"\ucc3e\uc73c\uc2dc\ub294 \ucc45\uc815\ubcf4\ub97c \ucc3e\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4."}):Object(w.jsxs)("form",{onSubmit:L,children:[Object(w.jsxs)("table",{className:"table-auto text-center border-gray-600 border-t-2",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"\ub3c4\uc11c"}),Object(w.jsx)("th",{children:"(\uc0c1\ud0dc)\ub3c4\uc11c\uba85"}),Object(w.jsx)("th",{children:"\uc800\uc790"}),Object(w.jsx)("th",{children:"\ucd9c\ud310\uc77c"})]})}),Object(w.jsx)("tbody",{children:Object(w.jsx)(y,{searchResultInfo:s,setSelectedBookList:m,selectedBookList:h})})]}),N?Object(w.jsx)("div",{className:"h-11 w-full rounded-b-xl bg-gray-300 text-center leading-loose",children:"\ub9c8\uc9c0\ub9c9 \uac80\uc0c9\uacb0\uacfc\uc785\ub2c8\ub2e4."}):Object(w.jsx)("button",{className:"h-11 w-full rounded-b-xl bg-gray-300",type:"button",onClick:S,children:"\uacb0\uacfc \ub354\ubcf4\uae30"}),Object(w.jsx)("div",{className:"flex fixed bottom-0.5 mr-1.5 right-9 md:right-1/4 lg:mr-12 xl:right-1/3 xl:mr-14 h-10 bg-green-200 rounded-xl",children:Object(w.jsx)("button",{type:"submit",className:"px-2 bg-transparent p-3 rounded-xl text-gray-700 hover:bg-green-100 hover:text-gray-900 leading-4",children:"\ub3c4\uc11c\ub4f1\ub85d"})})]})})},S=function(e){var t=e.currentPage,n=e.totalPage,c=Object(s.g)(),a=Object(r.useCallback)((function(e){e.preventDefault(),c.push("/books/".concat(e.target.value))}),[c]),o=Object(r.useCallback)((function(){c.push("/books/1")}),[c]),l=Object(r.useCallback)((function(){c.push("/books/".concat(n))}),[c,n]),i=Object(r.useCallback)((function(){n>t&&c.push("/books/".concat(t+1))}),[c,t,n]),u=Object(r.useCallback)((function(){t>1&&c.push("/books/".concat(t-1))}),[c,t]),d=Object(r.useMemo)((function(){for(var e=Math.ceil(t/5),c=5*e,a=c>n?n:c,r=[],s=e;s<=a;++s)r.push(s);return r}),[t,n]);return t?Object(w.jsxs)("div",{className:"flex flex-row justify-evenly w-full h-16 py-6 relative left-0 bottom-0 md:-bottom-8 md:px-20 lg:px-56",children:[Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-gray-400 rounded-md shadow-md",viewBox:"0 0 20 20",fill:"currentColor",onClick:o,children:Object(w.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})}),Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-gray-400 rounded-md shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:u,children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),null===d||void 0===d?void 0:d.map((function(e){return Object(w.jsx)("button",{className:"h-6 w-6 rounded-md shadow-md ".concat(t===e?"bg-gray-500 font-bold":"bg-gray-400"),onClick:a,value:e,children:e},e)})),Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-gray-400 rounded-md shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:i,children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-gray-400 rounded-md shadow-sm",transform:"rotate(180)",viewBox:"0 0 20 20",fill:"currentColor",onClick:l,children:Object(w.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})})]}):null},L=Object(r.memo)(S),R=n(19),B=function(e){var t=e.pageOfbooksInfo,n=e.pageNum;return Object(w.jsx)(w.Fragment,{children:void 0!==t&&(null===t||void 0===t?void 0:t.map((function(e,t){return Object(w.jsxs)("tr",{children:[Object(w.jsxs)("td",{children:[Object(w.jsx)("b",{children:"[".concat(e.status,"]")})," ",Object(w.jsx)(R.b,{to:"/book/".concat(t*n,"/").concat(e.isbn),children:e.title})]}),Object(w.jsx)("td",{children:e.authors[0]}),Object(w.jsx)("td",{children:e.amount}),Object(w.jsx)("td",{children:v()(e.datetime).format("YYYY-MM-DD")})]},e.isbn)})))})},D=Object(r.memo)(B);t.default=function(){var e=Object(s.g)(),t=Object(s.h)().page,n=Object(r.useMemo)((function(){return parseInt(t)}),[t]),c=Object(l.a)(""),i=Object(a.a)(c,2),u=i[0],d=i[1],b=Object(r.useState)(!1),j=Object(a.a)(b,2),h=j[0],m=j[1],x=Object(r.useState)([]),f=Object(a.a)(x,2),O=f[0],g=f[1],v=Object(r.useMemo)((function(){return[15*(n-1),15*n]}),[n]),k=Object(a.a)(v,2),y=k[0],N=k[1],C=Object(o.a)((function(e){return e.book.documents})),S=Object(r.useMemo)((function(){return null===C||void 0===C?void 0:C.slice(y,N)}),[C,N,y]),R=Object(r.useMemo)((function(){return Math.ceil(C.length/15)}),[C]),B=Object(r.useCallback)((function(){m(!1)}),[]),I=Object(r.useCallback)((function(e){if(e.preventDefault(),""===u.trim()&&!u.trim().length)return null;p(n).then((function(e){m(!0),g(e.data.documents)})).catch((function(e){console.dir(e)}))}),[n,u]);return(isNaN(n)||!n||n>R)&&e.push("/notFound"),Object(w.jsxs)("div",{className:"container pt-8 mx-auto md:pt-16",children:[Object(w.jsxs)("header",{className:"flex w-full h-10 justify-around flex-wrap flex-row",children:[Object(w.jsxs)("div",{className:"inline-flex flex-nowrap",children:[Object(w.jsx)("img",{className:"mr-3",width:"40",height:"40",alt:"Book Logo",src:"https://cdn.pixabay.com/photo/2016/01/23/16/02/book-1157658_960_720.png"}),Object(w.jsx)("b",{className:"sm:text-base md:text-3xl",children:"\ub3c4\uc11c \uad00\ub9ac \uc2dc\uc2a4\ud15c"})]}),Object(w.jsx)("form",{className:"pt-1 h-10",onSubmit:I,children:Object(w.jsx)("input",{className:"rounded-lg text-center border",type:"search",placeholder:"\ub3c4\uc11c\uba85\uc73c\ub85c \uac80\uc0c9",value:u,onChange:d})})]}),Object(w.jsx)("main",{className:"flex flex-col mt-8 mx-3 sm:mt-4 md:mx-8 lg:mx-24 justify-center",children:Object(w.jsxs)("table",{className:"table-auto border-separate text-center",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"whitespace-nowrap",children:[Object(w.jsx)("th",{children:"(\uc0c1\ud0dc) \ub3c4\uc11c\uba85"}),Object(w.jsx)("th",{children:"\uae00\uc4f4\uc774"}),Object(w.jsx)("th",{children:"\ubcf4\uc720"}),Object(w.jsx)("th",{children:"\ucd9c\ud310\uc77c"})]})}),Object(w.jsx)("tbody",{children:Object(w.jsx)(D,{pageOfbooksInfo:S,pageNum:n})})]})}),Object(w.jsx)(L,{currentPage:n,totalPage:R}),Object(w.jsx)(M,{show:h,onCloseModal:B,setShowSearchResultModal:m,searchResultInfo:O,setSearchResultInfo:g,searchValue:u})]})}}}]);
//# sourceMappingURL=6.865b86e4.chunk.js.map